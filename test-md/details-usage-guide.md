# Details 容器使用指南

## 基础语法

### 简单容器

:::details
容器内容
:::


### 带标题的容器

:::details[自定义标题]
容器内容
:::


### 默认展开的容器

:::details{open}
默认展开的内容
:::


### 带标题和默认展开

:::details[自定义标题]{open}
带标题且默认展开的内容
:::


## 嵌套容器语法

### 重要说明
`@mdit/plugin-container` 要求嵌套容器使用**不同数量的冒号标记**来区分层级：

- **第一层（最外层）**：使用 `:::`（三个冒号）
- **第二层**：使用 `::`（两个冒号）
- **第三层**：使用 `:`（一个冒号）

### 基础嵌套示例

:::details[外层容器]
外层容器的内容。

::details[内层容器]
内层容器的内容。
::

外层容器继续。
:::


### 多层嵌套示例

:::details[第一层]
第一层内容。

::details[第二层]
第二层内容。

:::details[第三层]
第三层内容。
:::

第二层继续。
::

第一层继续。
:::


## 高级用法

### 带属性的嵌套容器

:::details[外层容器]{open data-theme="dark"}
外层容器内容。

::details[内层容器].highlight
内层容器内容。
::

外层容器继续。
:::


### 在其他容器中嵌套 Details

:::info
信息容器内容。

::details[信息容器内的折叠]
这是嵌套在信息容器内的 details。
::

信息容器继续。
:::


## 支持的属性

### ID 和类名

:::details#custom-id.custom-class
带 ID 和类名的容器
:::


### 自定义数据属性

:::details{data-toggle="collapse" data-target="#demo"}
带自定义数据属性的容器
:::


### 组合属性

:::details#section1.highlight{open data-theme="dark"}
组合了 ID、类、默认展开和自定义属性的容器
:::


## 注意事项

1. **标记数量必须正确**：嵌套容器必须使用正确数量的冒号标记，否则解析会失败
2. **结束标记要匹配**：开始标记用多少冒号，结束标记也要用相同数量的冒号
3. **避免过深嵌套**：虽然支持多层嵌套，但建议不要超过 3 层，以保持可读性
4. **内容格式**：容器内可以包含任何 Markdown 内容，包括标题、列表、代码块等

## 常见问题

### Q: 为什么我的嵌套容器没有正确渲染？
A: 请检查是否使用了正确数量的冒号标记。外层容器需要更多冒号。

### Q: 如何让嵌套容器默认展开？
A: 在容器标记中添加 `{open}` 属性：

:::details[标题]{open}
默认展开的内容
:::


### Q: 可以在 details 容器中使用其他容器吗？
A: 可以，但要注意嵌套的标记数量要正确递减。

## 示例文件

项目中有以下测试文件可供参考：

- `test-md/test-details-simple.md` - 基础语法测试
- `test-md/test-nested-details-correct.md` - 嵌套容器测试
- `test-md/test-details.md` - 完整功能测试